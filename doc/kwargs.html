<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Keyword Arguments</title>
<link type="text/css" rel="stylesheet" href="style.css"/>
</head>
<body>
<h1 id="keyword-arguments">Keyword Arguments</h1>
<p>By Ross Smith</p>
<ul>
<li><code>#include "rs-core/kwargs.hpp"</code></li>
</ul>
<h2 id="contents">Contents</h2>
<div class="toc">
<ul>
<li><a href="#keyword-arguments">Keyword Arguments</a><ul>
<li><a href="#contents">Contents</a></li>
<li><a href="#keyword-arguments_1">Keyword arguments</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="keyword-arguments_1">Keyword arguments</h2>
<div class="defns">
<ul>
<li><code>template &lt;typename T, int ID = 0&gt; struct</code> <strong><code>Kwarg</code></strong><ul>
<li><code>constexpr ... Kwarg::</code><strong><code>operator=</code></strong><code>(const T&amp; t) const noexcept</code></li>
</ul>
</li>
<li><code>template &lt;typename T, int ID, typename... Args&gt; constexpr bool</code> <strong><code>kwtest</code></strong><code>(Kwarg&lt;T, ID&gt; key, Args... args)</code></li>
<li><code>template &lt;typename T, int ID, typename... Args&gt; T</code> <strong><code>kwget</code></strong><code>(Kwarg&lt;T, ID&gt; key, const T&amp; def, Args... args)</code></li>
</ul>
<p>This provides a simple implementation of variadic keyword arguments for C++
functions.</p>
<p>Define a <code>Kwarg&lt;T[,ID]&gt;</code> object for each keyword argument, where <code>T</code> is the
argument type. The <code>ID</code> parameter is only needed to distinguish between
keywords with the same argument type. Functions that will take keyword
arguments should be declared with a variadic argument pack, possibly preceded
by ordinary positional arguments.</p>
<p>When calling the function, the keyword arguments should be supplied in the
form <code>key=value</code>, where <code>key</code> is a <code>Kwarg</code> object, and <code>value</code> is the argument
value. The value type must be convertible to <code>T</code>. If <code>T</code> is <code>bool</code>, the
keyword alone can be passed as an argument, with the value defaulting to
<code>true</code>.</p>
<p>In the function body, call <code>kwget()</code> or <code>kwtest()</code> for each possible keyword
argument, with the corresponding <code>Kwarg</code> object as the key, a default value
(for <code>kwget()</code>), and the variadic arguments from the enclosing function. The
<code>kwget()</code> function returns the value attached to the keyword, or the default
value if the keyword was not found in the argument list; <code>kwtest()</code> returns
whether or not the keyword was present. If the same keyword appears more than
once in the actual argument list, the first one found will be returned.</p>
<p>Example:</p>
<pre><code>class Window {
public:
    static constexpr Kwarg&lt;int, 1&gt; width
    static constexpr Kwarg&lt;int, 2&gt; height;
    static constexpr Kwarg&lt;std::string&gt; title;
    static constexpr Kwarg&lt;bool&gt; visible;
    template &lt;typename... Args&gt; explicit Window(Args... args) {
        int win_width = kwget(width, 640, args...);
        int win_height = kwget(height, 480, args...);
        string title_text = kwget(title, "New Window"s, args...);
        bool is_visible = kwget(visible, false, args...);
        // ...
    }
};

Window app_window(Window::title="Hello World", Window::width=1000, Window::height=750, Window::visible);
</code></pre></body>
</html>
