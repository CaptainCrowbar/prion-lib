<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Random Numbers</title>
<link type="text/css" rel="stylesheet" href="style.css"/>
</head>
<body>
<h1 id="random-numbers">Random Numbers</h1>
<p>By Ross Smith</p>
<ul>
<li><code>#include "rs-core/random.hpp"</code></li>
</ul>
<h2 id="contents">Contents</h2>
<div class="toc">
<ul>
<li><a href="#random-numbers">Random Numbers</a><ul>
<li><a href="#contents">Contents</a></li>
<li><a href="#random-device-sources">Random device sources</a></li>
<li><a href="#xoroshiro-generator">Xoroshiro generator</a></li>
<li><a href="#simple-random-distributions">Simple random distributions</a></li>
<li><a href="#other-random-functions">Other random functions</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="random-device-sources">Random device sources</h2>
<div class="defns">
<ul>
<li><code>template &lt;typename T&gt; class</code> <strong><code>Urandom</code></strong><ul>
<li><code>using Urandom::</code><strong><code>result_type</code></strong> <code>= T</code></li>
<li><code>T Urandom::</code><strong><code>operator()</code></strong><code>() noexcept</code></li>
<li><code>static constexpr T Urandom::</code><strong><code>min</code></strong><code>() noexcept</code></li>
<li><code>static constexpr T Urandom::</code><strong><code>max</code></strong><code>() noexcept</code></li>
</ul>
</li>
<li><code>using</code> <strong><code>Urandom32</code></strong> <code>= Urandom&lt;uint32_t&gt;</code></li>
<li><code>using</code> <strong><code>Urandom64</code></strong> <code>= Urandom&lt;uint64_t&gt;</code></li>
</ul>
<p>Generate random numbers from the system's standard random device. On Unix this
reads from <code>/dev/urandom</code>. The result type <code>T</code> must be a primitive integer
type. (This is similar to <code>std::random_device</code>, which is not implemented on
all of my target systems.)</p>
</div>
<div class="defns">
<ul>
<li><code>void</code> <strong><code>urandom_bytes</code></strong><code>(void* ptr, size_t n) noexcept</code></li>
</ul>
<p>Copies random bytes from the system's standard random device. This will do
nothing if either argument is null.</p>
</div>
<h2 id="xoroshiro-generator">Xoroshiro generator</h2>
<div class="defns">
<ul>
<li><code>class</code> <strong><code>Xoroshiro</code></strong><ul>
<li><code>using Xoroshiro::</code><strong><code>result_type</code></strong> <code>= uint64_t</code></li>
<li><code>Xoroshiro::</code><strong><code>Xoroshiro</code></strong><code>() noexcept</code></li>
<li><code>explicit Xoroshiro::</code><strong><code>Xoroshiro</code></strong><code>(uint64_t s) noexcept</code></li>
<li><code>Xoroshiro::</code><strong><code>Xoroshiro</code></strong><code>(uint64_t s1, uint64_t s2) noexcept</code></li>
<li><code>uint64_t Xoroshiro::</code><strong><code>operator()</code></strong><code>() noexcept</code></li>
<li><code>bool Xoroshiro::</code><strong><code>operator==</code></strong><code>(const Xoroshiro&amp; rhs) const noexcept</code></li>
<li><code>bool Xoroshiro::</code><strong><code>operator!=</code></strong><code>(const Xoroshiro&amp; rhs) const noexcept</code></li>
<li><code>void Xoroshiro::</code><strong><code>seed</code></strong><code>(uint64_t s) noexcept</code></li>
<li><code>void Xoroshiro::</code><strong><code>seed</code></strong><code>(uint64_t s1, uint64_t s2) noexcept</code></li>
<li><code>static constexpr uint64_t Xoroshiro::</code><strong><code>min</code></strong><code>() noexcept</code> <em>= 0</em></li>
<li><code>static constexpr uint64_t Xoroshiro::</code><strong><code>max</code></strong><code>() noexcept</code> <em>= 2<sup>64</sup>-1</em></li>
</ul>
</li>
</ul>
<p>Xoroshiro128+ algorithm by <a href="http://xoroshiro.di.unimi.it">David Blackman and Sebastiano
Vigna</a>.</p>
</div>
<h2 id="simple-random-distributions">Simple random distributions</h2>
<div class="defns">
<ul>
<li><code>template &lt;typename RNG&gt; bool</code> <strong><code>random_bool</code></strong><code>(RNG&amp; rng)</code> <em>- True with probability 1/2</em></li>
<li><code>template &lt;typename RNG&gt; bool</code> <strong><code>random_bool</code></strong><code>(RNG&amp; rng, double p)</code> <em>- True with probability p (clamped to 0-1)</em></li>
<li><code>template &lt;typename RNG, typename T&gt; bool</code> <strong><code>random_bool</code></strong><code>(RNG&amp; rng, T num, T den)</code> <em>- True with probability num/den (clamped to 0-1)</em></li>
<li><code>template &lt;typename T, typename RNG&gt; T</code> <strong><code>random_integer</code></strong><code>(RNG&amp; rng, T t)</code> <em>- Random integer from 0 to t-1 (always 0 if t&lt;2)</em></li>
<li><code>template &lt;typename T, typename RNG&gt; T</code> <strong><code>random_integer</code></strong><code>(RNG&amp; rng, T a, T b)</code> <em>- Random integer from a to b inclusive (limits may be in either order)</em></li>
<li><code>template &lt;typename T, typename RNG&gt; T</code> <strong><code>random_dice</code></strong><code>(RNG&amp; rng, T n = 1, T faces = 6)</code> <em>- Roll n dice numbered from 1 to faces (0 if either argument is &lt;1)</em></li>
<li><code>template &lt;typename T, typename RNG&gt; T</code> <strong><code>random_float</code></strong><code>(RNG&amp; rng, T a = 1, T b = 0)</code> <em>- Random number between a and b (limits may be in either order)</em></li>
<li><code>template &lt;typename T, typename RNG&gt; T</code> <strong><code>random_normal</code></strong><code>(RNG&amp; rng)</code> <em>- Normal distribution with mean 0, sd 1</em></li>
<li><code>template &lt;typename T, typename RNG&gt; T</code> <strong><code>random_normal</code></strong><code>(RNG&amp; rng, T m, T s)</code> <em>- Normal distribution with given mean and sd</em></li>
<li><code>template &lt;typename ForwardRange, typename RNG&gt; [value type]</code> <strong><code>random_choice</code></strong><code>(RNG&amp; rng, const ForwardRange&amp; range)</code> <em>- Random element from range (default constructed value if range is empty)</em></li>
<li><code>template &lt;typename T, typename RNG&gt; T</code> <strong><code>random_choice</code></strong><code>(RNG&amp; rng, initializer_list&lt;T&gt; list)</code> <em>- Random element from explicit list</em></li>
<li><code>template &lt;typename ForwardRange, typename RNG&gt; vector&lt;[value type]&gt;</code> <strong><code>random_sample</code></strong><code>(RNG&amp; rng, const ForwardRange&amp; range, size_t k)</code> <em>- Random sample from range (throws length_error if k&gt;n)</em></li>
</ul>
<p>Simple random number functions. These do not call the standard distribution
classes; given the same underlying deterministic pseudo-random number engine
(the <code>RNG</code> type), these can be relied on to return the same values on
different systems and compilers (apart from small differences due to rounding
errors in the floating point functions).</p>
</div>
<h2 id="other-random-functions">Other random functions</h2>
<div class="defns">
<ul>
<li><code>template &lt;typename RNG&gt; void</code> <strong><code>random_bytes</code></strong><code>(RNG&amp; rng, void* ptr, size_t n)</code></li>
</ul>
<p>Fills a block of memory with random bits generated by the RNG. This will do
nothing if <code>ptr</code> is null or <code>n=0</code>.</p>
</div>
<div class="defns">
<ul>
<li><code>template &lt;typename RNG, typename RandomAccessRange&gt; void</code> <strong><code>shuffle</code></strong><code>(RNG&amp; rng, RandomAccessRange&amp; range)</code></li>
<li><code>template &lt;typename RNG, typename RandomAccessIterator&gt; void</code> <strong><code>shuffle</code></strong><code>(RNG&amp; rng, RandomAccessIterator i, RandomAccessIterator j)</code></li>
</ul>
<p>Shuffle the elements of a random access range into random order. This is
functionally the same as <code>std::shuffle()</code>, duplicated here to provide a
version with reproducible behaviour on all systems.</p></body>
</html>
